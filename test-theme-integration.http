### Test Int√©gration Compl√®te Mapping ‚Üí Th√®me Shopify

### 1. Installation des fichiers th√®me
POST http://localhost:3000/api/saas/install-theme-files
Content-Type: application/json

{
  "shop_domain": "adlign.myshopify.com"
}

### 2. Duplication d'un produit avec mapping (g√©n√®re metafield settings + assigne template)
POST http://localhost:3000/api/saas/duplicate-product-page
Content-Type: application/json

{
  "shop_domain": "adlign.myshopify.com",
  "product_id": "15096939610438",
  "mapping_id": "mapping_1754625541045_ubaly9sic",
  "landing_handle": "black-friday-2024",
  "landingData": {
    "campaign_name": "Black Friday 2024",
    "custom_title": "üî• BLACK FRIDAY -70% - DERNI√àRE CHANCE !",
    "custom_description": "Ne ratez pas cette offre exceptionnelle ! Seulement 24h restantes pour profiter de cette r√©duction incroyable.",
    "custom_price_text": "19,90‚Ç¨ au lieu de 69,90‚Ç¨ (-71%)",
    "custom_cta_text": "‚ö° JE PROFITE DE L'OFFRE",
    "custom_vendor": "Adlign",
    "badge_text": "PROMO FLASH",
    "urgency_text": "Plus que 24h !",
    "social_proof": "‚≠ê 4.9/5 - 2,847 avis",
    "guarantee_text": "‚úÖ Satisfait ou rembours√© 30 jours"
  }
}

### 3. V√©rification des metafields cr√©√©s
GET http://localhost:3000/api/saas/test-metafields/adlign.myshopify.com

### 4. Test mapping disponible
GET http://localhost:3000/api/saas/mapping/mapping_1754625541045_ubaly9sic

### 5. Test r√©cup√©ration metafields produit
POST http://localhost:3000/api/saas/product-metafields
Content-Type: application/json

{
  "shop_domain": "adlign.myshopify.com",
  "product_id": "15096939610438"
}

### Expected Results:
# 1. ‚úÖ Theme files installed successfully
# 2. ‚úÖ Product metafields created with adlign.settings
# 3. ‚úÖ Template "adlign" assigned to product  
# 4. ‚úÖ Mapping data available
# 5. ‚úÖ Product metafields including settings JSON

### URL √† tester dans le navigateur:
# https://adlign.myshopify.com/products/[product-handle]?template=adlign
# Doit afficher la page avec le contenu personnalis√©

### Points de v√©rification:
# - Metafield adlign_data.settings contient mapping + content
# - Template product.adlign.json est assign√© au produit
# - Section adlign-mapping-section.liquid applique les changements
# - DOM mis √† jour avec le contenu personnalis√©
# - Indicateur visuel de succ√®s affich√©
